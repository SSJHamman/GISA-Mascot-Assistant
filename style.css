/* --- Base layout (minimal scaffolding) --- */
:root{
  --bg:#f7f8fb;
  --panel:#ffffff;
  --ink:#101114;
  --muted:#60697a;
  --edge:#e6e9f0;
  --accent:#245eea;         /* professional blue */
  --accent-weak:#eaf1ff;
  --shadow: 0 10px 30px rgba(0,0,0,.10);
  --radius:14px;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0e1116;
    --panel:#12161d;
    --ink:#e9edf5;
    --muted:#9aa3b6;
    --edge:#222a36;
    --accent:#7aa3ff;
    --accent-weak:#142a63;
    --shadow: 0 10px 30px rgba(0,0,0,.45);
  }
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; background:var(--bg); color:var(--ink); font:14.5px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial}
.site-header,.site-footer{
  background:var(--panel); border-bottom:1px solid var(--edge);
  padding:14px 20px;
}
.site-footer{border-top:1px solid var(--edge); border-bottom:none; margin-top:24px}
.content{max-width:900px; margin:28px auto; padding:0 20px}
h1{font-size:18px;margin:0}
h2{font-size:16px;margin:6px 0 10px}

/* --- Accessibility helpers --- */
.visually-hidden{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}

/* --- Mascot system --- */
.mascot-wrap{
  position:fixed; right:20px; bottom:20px; z-index:9999;
  display:flex; align-items:flex-end; gap:10px;
}

/* Pin toggle (CSS-only) */
.pin-toggle{
  width:28px; height:28px; border:1px solid var(--edge); background:var(--panel);
  border-radius:8px; box-shadow: var(--shadow); cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
  outline:none;
}
.pin-toggle::before{
  content:"ðŸ“Œ"; font-size:16px; line-height:1; transform: rotate(-18deg);
}
#pinBubble:checked + .pin-toggle{ border-color:var(--accent); }
#pinBubble:checked + .pin-toggle::before{ content:"âœ…"; transform:none }

/* Bubble with rotating tips (no JS) */
.bubble{
  max-width:260px; min-height:44px;
  padding:10px 12px;
  background:var(--panel);
  border:1px solid var(--edge);
  border-radius:12px;
  box-shadow: var(--shadow);
  color:var(--ink);
  opacity:0; transform: translateY(8px);
  transition: opacity .25s ease, transform .25s ease;
  pointer-events:none;
  position:relative;
}
.bubble::after{
  content:""; position:absolute; right:-6px; bottom:12px; width:12px; height:12px;
  background:var(--panel); border:1px solid var(--edge); border-left:none; border-bottom:none;
  transform: rotate(45deg);
}

/* Tips: stacked, cycle visibility with keyframes */
.tip{position:absolute; inset:10px 12px; opacity:0; }
.tip1{animation: tipCycle 16s linear infinite 0s;}
.tip2{animation: tipCycle 16s linear infinite 4s;}
.tip3{animation: tipCycle 16s linear infinite 8s;}
.tip4{animation: tipCycle 16s linear infinite 12s;}
@keyframes tipCycle{
  0%{opacity:0}
  5%{opacity:1}
  25%{opacity:1}
  30%{opacity:0}
  100%{opacity:0}
}

/* Show bubble on hover/focus or when pinned */
.mascot:focus-visible + .bubble,
.mascot:hover + .bubble,
#pinBubble:checked ~ .bubble{
  opacity:1; transform: translateY(0); pointer-events:auto;
}

/* Mascot button */
.mascot{
  border:1px solid var(--edge); background:var(--panel); border-radius:16px;
  box-shadow: var(--shadow);
  padding:10px; cursor:pointer; outline:none;
  transition: transform .12s ease, border-color .12s ease;
}
.mascot:hover{ transform: translateY(-2px); border-color: color-mix(in lab, var(--accent), transparent 60%); }
.mascot:focus-visible{ outline: 2px solid var(--accent); outline-offset:2px; }

/* SVG styling */
.body-shape{ fill:url(#none); }
.clip-tab{ fill:var(--panel); stroke:var(--edge); stroke-width:2; }
.face{ fill:var(--accent-weak); stroke:var(--edge); stroke-width:2; }
.eye{ fill:#1b1f2a; }
.smile{ fill: none; stroke:#1b1f2a; stroke-width:3; stroke-linecap:round; stroke-linejoin:round; }
.blink{ fill:#1b1f2a; opacity:0; }

/* Add a subtle professional gradient fill via CSS instead of SVG defs */
svg .body-shape{
  fill: linear-gradient(180deg, color-mix(in lab, var(--accent), white 70%), var(--accent));
  paint-order: stroke fill;
  stroke: var(--edge);
  stroke-width:2;
}

/* Idle bob + blink (CSS-only) */
.mascot svg{ display:block; }
.mascot svg .body{ transform-origin: 50% 70%; animation: bob 3.4s ease-in-out infinite; }
@keyframes bob{
  0%,100%{ transform: translateY(0) }
  50%{ transform: translateY(-4px) }
}

/* Blink bars animate over eyes to simulate blinking */
.mascot svg .blink{
  animation: blink 5s infinite;
}
.mascot svg .blink:nth-of-type(2){ animation-delay: 2.2s; }
@keyframes blink{
  0%, 2% { opacity:0; transform: translateY(0) }
  3%, 4% { opacity:1; transform: translateY(0) }  /* closed */
  5%      { opacity:0; transform: translateY(0) }
  100%    { opacity:0; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .mascot svg .body,
  .blink,
  .tip1,.tip2,.tip3,.tip4{ animation: none !important; }
}
